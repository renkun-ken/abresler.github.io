<!doctype HTML>
<title>Comparing 2014 U.S. Open Performance of Serena Williams and Caroline Wozniaki</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta charset = 'utf-8'>
<html>
  <head>
    <link rel='stylesheet' href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel='stylesheet' href='http://aragorn.org/scripts/nv.d3.css'>
    <link rel='stylesheet' href='http://aragorn.org/scripts/rNVD3.css'>
    
    <script src='http://aragorn.org/scripts/jquery-1.8.2.min.js' type='text/javascript'></script>
    <script src='http://aragorn.org/scripts/d3.v3.min.js' type='text/javascript'></script>
    <script src='http://aragorn.org/scripts/nv.d3.min-new.js' type='text/javascript'></script>
    
     <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
     <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    
    <style>
    .rChart {
      display: block
      margin: auto auto;
      width: 610px;
      height: 400px;
    }
    .bs-docs-example:after {
      content: "";
      background: transparent;
      border: none;
    }
    </style>
        </style>
        <script type='text/javascript'>
var _qevents = _qevents || [];
               
               (function() {
               var elem = document.createElement('script');
               elem.src = (document.location.protocol == 'https:' ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
               elem.async = true;
               elem.type = 'text/javascript';
               var scpt = document.getElementsByTagName('script')[0];
               scpt.parentNode.insertBefore(elem, scpt);
               })();
               
               _qevents.push({
               qacct:'p-S9mx3XF_GwU-x'
               });
               </script>
               
               <script>
               var _gaq=[['_setAccount','UA-34398972-1'],['_trackPageview']];
               (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
               g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
               s.parentNode.insertBefore(g,s)}(document,'script'));
               </script>
              <script type="text/javascript">
var _qevents = _qevents || [];

(function() {
var elem = document.createElement('script');
elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
elem.async = true;
elem.type = "text/javascript";
var scpt = document.getElementsByTagName('script')[0];
scpt.parentNode.insertBefore(elem, scpt);
})();

_qevents.push({
qacct:"p-S9mx3XF_GwU-x"
});
</script>
<style type="text/css" media="all">@import url("http://www.si.com/sites/all/themes/custom/si_base/styles/global.css?nawt0v");
@import url("http://www.si.com/sites/all/themes/custom/si_base/styles/ui.css?nawt0v");
@import url("http://www.si.com/sites/all/themes/custom/si_desktop/styles/bookmark-overlay.css?nawt0v");</style> 
    
  </head>
  <body >
  <center>
       <center>
       <div class='orange' style="padding-top:10px;padding-bottom:5px; text-align:middle; font-size:24px; width: 550px; display:table-cell;height:40px;vertical-align:middle;letter-spacing: 0.25px"><strong>Comparing the 2014 U.S. Open Performance of Caroline Wozniaki and Serena Williams</strong></div>
    </div></center>
    <center><a href = "http://www.ibm.com/sports" target = "_blank"><img src="http://www.aragorn.org/logos/ibm_630_100v3.jpg" alt="" width = "450" height="71" style="padding: 2.5px"></a></center>
  <body ng-app>
      
    <div class='container' ng-controller="DemoCtrl">
  <div class='row'>
    <div class='col-md-3'>
      <form class='well'>
        <label><b>Select Variable:</b></label>
    		<select class='form-control' ng-model="opts.y" 
          ng-options="ctl for ctl in controls.y.values">   
    		</select>
              </form>
    </div>
    <div class='col-md-7'>
      <div class="bs-docs-example">
        <div id='chartbe6e624cdb1a' class='rChart '>
          <svg></svg>
        </div>
        
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
function DemoCtrl($scope){
  $scope.opts = {
 "dom": "chartbe6e624cdb1a",
"width":    610,
"height":    400,
"x": "player",
"y": "Return in Play Percentage",
"group": "player",
"type": "multiBarChart",
"id": "chartbe6e624cdb1a" 
}
  $scope.data = [
 {
 "player": "Caroline Wozniaki",
"seed": 10,
"Unreturned Serve Percentage": 21,
"First Serve Percentage": 67,
"First Serve Point Percentage": 71,
"Return in Play Percentage": 89,
"First Return Point Win Percentage": 48,
"Second Return Point Win Percentage": 52,
"Return Game Win Percentage": 45,
"Forehand Winners": 26,
"Backhand Winners": 35,
"Net Point Win Percentage": 67,
"Baseline Point Win Percentage": 54,
"Sets Lost": 2 
},
{
 "player": "Serena Williams",
"seed": 1,
"Unreturned Serve Percentage": 38,
"First Serve Percentage": 60,
"First Serve Point Percentage": 80,
"Return in Play Percentage": 76,
"First Return Point Win Percentage": 47,
"Second Return Point Win Percentage": 62,
"Return Game Win Percentage": 59,
"Forehand Winners": 43,
"Backhand Winners": 39,
"Net Point Win Percentage": 77,
"Baseline Point Win Percentage": 60,
"Sets Lost": 0 
} 
]
  $scope.controls = {
 "y": {
 "name": "y",
"value": "Returns in Play",
"values": [ "Return in Play Percentage", "Unreturned Serve Percentage", "First Serve Percentage", "First Serve Point Percentage", "First Return Point Win Percentage", "Second Return Point Win Percentage", "Return Game Win Percentage", "Forehand Winners", "Backhand Winners", "Net Point Win Percentage", "Baseline Point Win Percentage", "Sets Lost" ],
"label": "Select  y :" 
} 
} 
  $scope.filters = []
  
  $scope.drawChart = function(){
    drawChart($scope.opts, $scope.data)  
  }
  
  $scope.$watch('selected', function(){
    var keys = _.pluck($scope.selected, "variable")
    var values = _.pluck($scope.selected, "value")
    $scope.opts.selected = _.zipObject(keys, values)
  }) 
  
  $scope.$watch('opts',function(){
    $scope.drawChart()
	}, true)
}  

function drawChart(opts, data){ 
  if (Object.keys(opts.selected).length > 0){
    data = _.filter(data, opts.selected)
  }
  
  if(!(opts.type==="pieChart" || opts.type==="sparklinePlus" || opts.type==="bulletChart")) {
    var data = d3.nest()
      .key(function(d){
        //return opts.group === undefined ? 'main' : d[opts.group]
        //instead of main would think a better default is opts.x
       return opts.group === undefined ? opts.y : d[opts.group];
      }).entries(data);
  }
      
  if (opts.disabled != undefined){
    data.map(function(d, i){
      d.disabled = opts.disabled[i]
    })
  }
	
	nv.addGraph(function() {
		var chart = nv.models[opts.type]()
			.x(function(d) { return d[opts.x] })
			.y(function(d) { return d[opts.y] })
			.width(opts.width)
			.height(opts.height)
		
	chart
  .color([ "#77513e", "#AA66cc" ])
  .showControls(false)
  .margin({
 "left":     50,
"top":     50,
"right":     20,
"bottom":     20 
})
  .tooltipContent( function(key, x, y, e ){
						 var d = e.series.values[e.pointIndex];
						 return '<center><b>' + d.player + '</b></center>' + '<b>Seed:</b> ' + d.seed + '<br><b>' + opts.y + ': </b>' + y
						 } )
          
	

	chart.legend
  .width(500)
  .margin({
 "left":     0,
"top":     5,
"right":     120,
"bottom":     0 
})
	
	chart.yAxis
  .tickFormat(function(d) {return  d3.format(',02f')(d)})
  .width(    52)
 .axisLabel( opts.y )

	d3.select("#" + opts.id + ' svg')
  // .empty()
		.datum(data)
		.transition().duration(300)
		.call(chart);
	
	 nv.utils.windowResize(chart.update);
	 return chart;
  });
};
</script>
    <style>
  svg text { font-size: 75%; ; }
  

</style>    
  </body>
<center>
<div style="display:table;width:220px;height:10px;font-size:12px" class='gray'>
<center><strong>Distributed by</strong><a href="http://aragorn.org/" target="_blank"><img src="http://www.aragorn.org/aragorn_logo.png" height="26" width="137" alt="aragorn"></a></b></center></div>
</center>
</body>
</html>